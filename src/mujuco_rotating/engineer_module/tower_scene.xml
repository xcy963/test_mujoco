<mujoco model="tower_scene">
  <option timestep="0.002" />

  <!-- 资源定义：板子的 mesh 和贴图 -->
  <asset>
    <!-- 板子网格 -->
    <mesh name="plate_mesh" file="plate.obj" scale="1 1 1" />

    <!-- 板子贴图 -->
    <texture name="plate_tex" type="2d" file="plate.png" />
    <material name="plate_mat" texture="plate_tex" rgba="1 1 1 1" />

    <!-- 地面纹理（可选） -->
    <texture name="ground_tex" type="2d" builtin="checker" width="512" height="512"
             rgb1="0.2 0.3 0.2" rgb2="0.15 0.15 0.15" />
    <material name="ground_mat" texture="ground_tex" texrepeat="4 4" />
  </asset>

  <worldbody>
    <!-- 环境光源 -->
    <light name="light" pos="0 -3 3" dir="0 1 -1" diffuse="1 1 1" specular="0.3 0.3 0.3" />

    <!-- 固定相机（你也可以继续用 free camera） -->
    <camera name="fixed_cam" pos="0 -4 2" zaxis="0 0 1" />

    <!-- 地面 -->
    <geom name="floor" type="plane" size="5 5 0.1" material="ground_mat" rgba="1 1 1 1" />

    <!-- 黑色塔 -->
    <!-- 塔总高度 1.0，底座中心在 z=0.5 -->
    <body name="tower" pos="0 0 0.5">
      <!-- cylinder: size="radius half_height" -->
      <geom name="tower_geom" type="cylinder" size="0.1 0.5" rgba="0 0 0 1" />

      <!-- 塔顶：这里放一个带转动关节的 body -->
      <!-- 塔顶在塔中心往上 0.5，也就是 z=1.0 -->
      <body name="tower_top" pos="0 0 0.5">
        <!-- 绕 z 轴的铰链关节，不限位 -->
        <joint name="spin" type="hinge" axis="0 0 1" limited="false" />

        <!-- 在这个 body 下面挂 4 个子 body，分别偏移形成 4 块板子 -->
        <!-- 半径 R 决定板子绕塔的圆周半径，自己可调 -->
        <!-- 这里用 R=0.4，确保不和塔柱碰撞 -->
        <body name="plate1" pos="0.4 0 0">
          <geom type="mesh" mesh="plate_mesh" material="plate_mat" />
        </body>

        <body name="plate2" pos="0 0.4 0">
          <!-- 如果你需要板子朝向一致，可以加 euler/quat，这里先不转 -->
          <geom type="mesh" mesh="plate_mesh" material="plate_mat" />
        </body>

        <body name="plate3" pos="-0.4 0 0">
          <geom type="mesh" mesh="plate_mesh" material="plate_mat" />
        </body>

        <body name="plate4" pos="0 -0.4 0">
          <geom type="mesh" mesh="plate_mesh" material="plate_mat" />
        </body>

      </body>
    </body>
  </worldbody>

  <!-- 用一个速度电机让 "spin" 关节持续旋转 -->
  <actuator>
    <!-- kv 是阻尼系数，这里简单设为 1，方便直接用 ctrl = 目标角速度 -->
    <velocity name="spin_motor" joint="spin" kv="1.0" />
  </actuator>
</mujoco>
