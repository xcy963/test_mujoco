add_compile_options(
    -Wall      #å¯ç”¨å¸¸è§è­¦å‘Š
    -Wextra    #å¯ç”¨é¢å¤–è­¦å‘Š
    -Wpedantic #ä¸¥æ ¼éµå¾ªè¯­è¨€æ ‡å‡†
    # -O1        # å¯ç”¨ O3 ä¼˜åŒ–
    # -march=native  # æ ¹æ®æœ¬åœ° CPU æ¶æ„ä¼˜åŒ–
)
include_directories(include)

file(GLOB_RECURSE base_srcs
  "*.cpp")
add_library(serial_base SHARED ${base_srcs})
target_include_directories(serial_base PUBLIC
    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>  
)#Generator expressions ğŸ˜‹
# message(WARNING "==========================================")
# message(WARNING "çœ‹ä¸€ä¸‹ä»–æ˜¯ä¸æ˜¯æŠŠä¸‰ä¸ªcppéƒ½æ”¾è¿›å»äº†: ${base_srcs}")
# message(WARNING "==========================================")


install(TARGETS serial_base DESTINATION lib)